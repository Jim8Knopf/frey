# ==============================================================================
# PULSEAUDIO SYSTEM DAEMON CONFIGURATION
# ==============================================================================
# Location: /etc/pulse/daemon.conf
# Purpose: Configure PulseAudio for system-wide Bluetooth audio
#
# Generated by Ansible bluetooth_audio role
# ==============================================================================

# Run as system daemon (not per-user)
daemonize = no
system-instance = yes
local-server-type = system

# Allow all users to access (needed for Home Assistant, etc.)
auth-anonymous = 1

# Disable exit on idle (always keep running)
exit-idle-time = -1

# Disable module unloading
disallow-module-loading = no

# CPU/Memory settings
realtime-scheduling = yes
realtime-priority = 9
nice-level = -11

# Resampling quality (highest quality for audio)
resample-method = speex-float-10
enable-remixing = yes
enable-lfe-remixing = no

# Audio buffer settings (tuned for Bluetooth low-latency)
default-sample-format = s16le
default-sample-rate = 44100
alternate-sample-rate = 48000
default-sample-channels = 2
default-channel-map = front-left,front-right

# Fragment settings for low latency
default-fragments = 4
default-fragment-size-msec = 25

# Bluetooth-specific settings
; Enable high quality codecs
enable-bluez5-hfp-hf-only = no

# Logging
log-target = syslog
log-level = info
log-meta = yes
log-time = yes
log-backtrace = 3
