# Configuration file for dhcpcd
# Generated by Ansible

# Global settings
hostname
clientid
persistent
option rapid_commit
option domain_name_servers, domain_name, domain_search, host_name
option classless_static_routes
option interface_mtu
require dhcp_server_identifier

# Allow client interface to get IP from upstream DHCP
interface {{ network.wifi.client_interface }}
metric 100

# AP interface configuration - static IP
interface {{ network.wifi.interface }}
static ip_address={{ network.wifi.ip }}/24
nohook wpa_supplicant
noipv4ll
noipv6
metric 200

# Prevent dhcpcd from managing DNS on AP interface
nogateway
nodns
noipv6

# Keep DHCP client active on the internet-facing interface
interface {{ network.wifi.client_interface }}
metric 100
ipv4only
request dhcp_server_identifier
require dhcp_server_identifier
slaac private

