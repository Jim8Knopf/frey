---
# handlers file for wifi_access_point
- name: restart dnsmasq
  ansible.builtin.service:
    name: dnsmasq
    state: restarted

- name: restart hostapd
  ansible.builtin.service:
    name: hostapd
    state: restarted

- name: restart dhcpcd
  ansible.builtin.service:
    name: dhcpcd
    state: restarted

- name: reload systemd
  ansible.builtin.systemd:
    daemon_reload: yes

- name: restart networking
  ansible.builtin.service:
    name: networking
    state: restarted

- name: restart netfilter-persistent
  ansible.builtin.service:
    name: netfilter-persistent
    state: restarted

- name: save iptables rules
  ansible.builtin.command:
    cmd: netfilter-persistent save
  changed_when: false

- name: restart networkmanager
  ansible.builtin.systemd:
    name: NetworkManager
    state: restarted
  ignore_errors: yes
