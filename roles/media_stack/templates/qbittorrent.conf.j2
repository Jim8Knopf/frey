# roles/media_stack/templates/qbittorrent.conf.j2
# qBittorrent configuration with categories for *arr apps

[Preferences]
# Connection settings
Connection\PortRangeMin=6881
Connection\UPnP=true
Connection\ResolvePeerCountries=true
Connection\IP={{ media_stack.services.qbittorrent.internal_ip }}

# Downloads
Downloads\SavePath={{ media_stack.downloads_dir }}/complete/
Downloads\TempPath={{ media_stack.downloads_dir }}/incomplete/
Downloads\UseIncompleteExtension=true
Downloads\PreAllocation=false

# qBittorrent settings
General\Locale=en
General\UseRandomPort=false

# Web UI
WebUI\Port={{ media_stack.services.qbittorrent.port }}
WebUI\Address={{ media_stack.services.qbittorrent.internal_ip }}
WebUI\HTTPS\Enabled=false
WebUI\LocalHostAuth=false
WebUI\AuthSubnetWhitelist={{ media_stack.network.subnet }}
WebUI\AuthSubnetWhitelistEnabled=true
WebUI\Username=admin
WebUI\Password_PBKDF2="@ByteArray({{ vault.media.qbittorrent.password_hash | default('ARQ77eY1NUWzVQiyfFoNX6oXjRTC4qM4FbvjnMzP7P4=:9cJj7nwV8vFCqM6WrODg+jU/1/p7lKDCi7FzQCNuNho=') }})"

# Categories for different *arr apps  
# These will be created automatically when the apps connect
[CategorySettings]
sonarr\SavePath={{ media_stack.downloads_dir }}/complete/sonarr/
radarr\SavePath={{ media_stack.downloads_dir }}/complete/radarr/
lidarr\SavePath={{ media_stack.downloads_dir }}/complete/lidarr/
manual\SavePath={{ media_stack.downloads_dir }}/complete/manual/